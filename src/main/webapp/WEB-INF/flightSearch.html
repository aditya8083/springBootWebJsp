<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Flight Search</title>
    <style type="text/css">

    </style>
    <script type="text/javascript" src="js/jquery-1.11.1.min.js"></script>
</head>
<body>

<div id="fullDiv" style="width:100%" >

    <input name="test" type="button" value="Get Output" onClick="getFlightPrice();">

    <div id="output"></div>

</div>

<script type="text/javascript">

    function getFlightPrice()
    {

      var table="<html><table border=\"1px\">";

      table=table+"<th> Code</th><th>Name</th><th>Desig.</th><th>Pay</th>";

      $.ajax({

            type: "GET",
                        url: "/flightui/FlightController/flight",
                        dataType: 'json',
                        success : function(json) {

                            var info1=json.JSonDataFinal;

                          $.each(info1, function(index, element) {
                              var info = element.JsonData;

                              table=table+"<tr>";

                                  $.each(info, function(index, element) {

                                      table=table+"<td>" + element.origin +"</td><td>"
                                      + element.destination +"</td><td>" + element.isRefundable +"</td><td>" + element.originDepartDate +"</td>"
                                      + element.originDepartTime +"</td>"+ element.destinationArrivalDate +"</td>"+ element.destinationArrivalTime +"</td>"
                                      + element.flightName +"</td>"+ element.flightNumber +"</td>"+ element.seatRemain +"</td>"
                                      + element.pricePerAdult +"</td>"+ element.pricePerChild +"</td>"+ element.pricePerInfant +"</td>";
                                    });
                                  table=table+"</tr>";

                          });
                          table=table+="</table></html>";

                          $("#output").html(table);
                        },
                        async: false,
                        global: false,
                        error: function () {
                           alert("Errr is occured");
                        }
                    });
}

</script>

</body>
</html>



<title>JSP Page</title>
</head>
<body>

<form>
    <a><% out.print(request.getAttribute("oldTitle"));%></a><br>
    <input type="text" name="firstname" value="">
    <br>

    What is your lucky number? <br>
    <input type="text" name="lastname" value="">
    <br>
    Why? <br>
    <input type="text" name="lastname" value="">
    <br><br>
    <input type="submit" value="Done">
</form>

</body>
</html>
